package audio.meetstudio.com.audiodemo;

import android.content.Context;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.res.AssetManager;
import android.os.Build;
import android.os.Bundle;
import android.provider.ContactsContract;
import android.support.design.widget.FloatingActionButton;
import android.support.design.widget.Snackbar;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;
import android.text.TextUtils;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.webkit.WebView;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.HashMap;

import static audio.meetstudio.com.audiodemo.NoteConverter.measureIdx;
import static audio.meetstudio.com.audiodemo.NoteConverter.noteIntDo;
import static audio.meetstudio.com.audiodemo.NoteConverter.noteMusjeStrWith;
import static audio.meetstudio.com.audiodemo.NoteConverter.preTimeSigDenominator;
import static audio.meetstudio.com.audiodemo.NoteConverter.preTimeSigNumerator;

/**
 * Created by ChrisDu on 2016/10/20.
 */

public class StaveViewActivity extends AppCompatActivity {

    private WebView mWebView;
    private String basePath = "";
    private static HashMap<String, String> alterMap = new HashMap<>();

    private static String testStr = "{\"length\":18,\"measures\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":0,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":1,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":2,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":3,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":4,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":5,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":6,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":7,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":8,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":9,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":10,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":11,\"fingering\":3,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":12,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":13,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":14,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":15,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":16,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":17,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":18,\"fingering\":1,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":19,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":20,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":21,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":22,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":23,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":24,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":25,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":26,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":27,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":28,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":29,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":30,\"fingering\":1,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":31,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":32,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":33,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":34,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":35,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":36,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":37,\"fingering\":4,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":38,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":39,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":40,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":41,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":42,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":43,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":44,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":45,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":46,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":47,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/3\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":48,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":49,\"fingering\":3,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":50,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":51,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":52,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":53,\"fingering\":5,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":54,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":55,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":56,\"fingering\":1,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"4\",\"rest\":false,\"intrinsicTicks\":256,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":57,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":58,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/3\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":59,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":60,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/3\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":61,\"fingering\":1,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":62,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/4\"],\"accidentals\":null,\"duration\":\"4dr\",\"rest\":true,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":null,\"beam\":null,\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":63,\"fingering\":0,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"G/4\"],\"accidentals\":[null],\"duration\":\"8d\",\"rest\":false,\"intrinsicTicks\":192,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":64,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":65,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":66,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":67,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"F/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":68,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":69,\"fingering\":1,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"F/4\"],\"accidentals\":[null],\"duration\":\"8d\",\"rest\":false,\"intrinsicTicks\":192,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":70,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":71,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"F/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":72,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":73,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":74,\"fingering\":2,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"8d\",\"rest\":false,\"intrinsicTicks\":192,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":75,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":76,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":77,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":78,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":79,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":80,\"fingering\":2,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":81,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/4\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":-1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":82,\"fingering\":5,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"C/5\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":83,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":84,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/5\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":85,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"B/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":86,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/5\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":87,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":88,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/4\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":89,\"fingering\":2,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"A/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":90,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":91,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":92,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":93,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":94,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":95,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":96,\"fingering\":2,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"F/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":97,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":98,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"F/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":99,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":100,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"F/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":101,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":102,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":103,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":104,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":105,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":106,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":107,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":108,\"fingering\":2,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":109,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":110,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":111,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":112,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"F/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":113,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":114,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"E/4\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":115,\"fingering\":2,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"B/4\"],\"accidentals\":null,\"duration\":\"4dr\",\"rest\":true,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":null,\"beam\":null,\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":116,\"fingering\":0,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"8d\",\"rest\":false,\"intrinsicTicks\":192,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":\"begin\",\"lyric\":null,\"tag\":117,\"fingering\":4,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"D/4\"],\"accidentals\":[null],\"duration\":\"16\",\"rest\":false,\"intrinsicTicks\":64,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":118,\"fingering\":5,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"C/4\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":119,\"fingering\":4,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256},{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"attributes\":{},\"parts\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"options\":{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\"},\"voices\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"key\":\"C\",\"notes\":[{\"keys\":[\"B/3\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"begin\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":120,\"fingering\":3,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"continue\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":121,\"fingering\":2,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"G/3\"],\"accidentals\":[null],\"duration\":\"8\",\"rest\":false,\"intrinsicTicks\":128,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":\"end\",\"tie\":null,\"slur\":null,\"lyric\":null,\"tag\":122,\"fingering\":1,\"staccato\":0,\"type\":\"note\"},{\"keys\":[\"A/3\"],\"accidentals\":[null],\"duration\":\"4d\",\"rest\":false,\"intrinsicTicks\":384,\"tickMultiplier\":{\"numerator\":1,\"denominator\":1},\"tuplet\":null,\"stem_direction\":1,\"beam\":null,\"tie\":null,\"slur\":\"end\",\"lyric\":null,\"tag\":123,\"fingering\":2,\"staccato\":0,\"type\":\"note\"}],\"stave\":0,\"type\":\"voice\"}],\"staves\":[{\"time\":{\"num_beats\":6,\"beat_value\":8,\"soft\":true},\"clef\":\"treble\",\"key\":\"C\",\"modifiers\":[],\"type\":\"stave\"}],\"type\":\"part\"}],\"beat_unit\":8,\"per_minute\":69,\"measure_tempo\":34,\"type\":\"measure\",\"divisions\":256}]}";
    public static MusicXMLNote musicXMLNote;
    public static ArrayList<NoteBean> dataArray = new ArrayList<>();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_stave);
        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);
        fab.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)
                        .setAction("Action", null).show();
            }
        });

        copyFile("octave.html");
        copyFile("octave_web.html");
        copyFile("bg_webview_ipad.png");
        copyFile("jquery.js");
        copyFile("vexflow-min.js");


        PackageManager m = getPackageManager();
        String s = getPackageName();
        PackageInfo p = null;
        try {
            p = m.getPackageInfo(s, 0);
        } catch (PackageManager.NameNotFoundException e) {
            e.printStackTrace();
        }
        basePath = p.applicationInfo.dataDir;

        AssetsCopyer.releaseAssets(this, "musje", basePath + "/files/");

        initWebView();

        showStave("song_xxx.xml");
    }

    private void initWebView() {
        mWebView = (WebView) this.findViewById(R.id.stave_webview);

        mWebView.getSettings().setJavaScriptEnabled(true);
        mWebView.getSettings().setAllowFileAccess(true);
        mWebView.getSettings().setAllowContentAccess(true);
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN) {
            mWebView.getSettings().setAllowFileAccessFromFileURLs(true);
            mWebView.getSettings().setAllowUniversalAccessFromFileURLs(true);
        }
        mWebView.setBackgroundColor(0); // 设置背景色
        mWebView.getBackground().setAlpha(2); // 设置填充透明度 范围：0-255
        mWebView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);
    }


    private void copyFile(String fileName) {

        File file = new File(fileName);
        if (file.exists()) {
            return;
        }

        try {
            int bytesum = 0;
            int byteread = 0;
            InputStream inStream = this.getAssets().open(fileName); //读入原文件
            FileOutputStream fs = this.openFileOutput(fileName, Context.MODE_PRIVATE);
            byte[] buffer = new byte[1024];
            int length;
            while ((byteread = inStream.read(buffer)) != -1) {
                bytesum += byteread; //字节数 文件大小
                fs.write(buffer, 0, byteread);
            }
            inStream.close();
        } catch (Exception e) {
            System.out.println("复制单个文件操作出错");
            e.printStackTrace();
        }
    }

    private void showStave(String filename) {
        String url = "file://" + basePath + "/files/musje/musje.html";
        System.out.print(url);
        mWebView.loadUrl(url);


    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.menu_main, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Handle action bar item clicks here. The action bar will
        // automatically handle clicks on the Home/Up button, so long
        // as you specify a parent activity in AndroidManifest.xml.
        int id = item.getItemId();

        //noinspection SimplifiableIfStatement
        if (id == R.id.action_settings) {



            return true;
        }

        return super.onOptionsItemSelected(item);
    }

    //---------------------------------------------------------------
    // 简谱数据转换
    private static int noteIntWithKey(String key) {
        char keyChar = key.charAt(0);
        int baseNote = 0;
        switch (keyChar) {
            case 'C':
                baseNote = 60;
                break;
            case 'D':
                baseNote = 62;
                break;
            case 'E':
                baseNote = 64;
                break;
            case 'F':
                baseNote = 65;
                break;

            case 'G':
                baseNote = 67;
                break;
            case 'A':
                baseNote = 57;
                break;
            case 'B':
                baseNote = 59;
                break;

            default:
                break;
        }
        if (key.length() > 1) {
            keyChar = key.charAt(1);
            if (keyChar == 'b') {
                baseNote--;
            } else {
                baseNote++;
            }
        }
        return baseNote;
    }

    //musje字符串
    public static String numNotationMusjeStrWith(MusicXMLNote musicXMLNote, ArrayList<NoteBean> noteArray) {
        if (musicXMLNote.getMeasures().size() > 0) {
            MusicXMLNote.MeasuresBean measuresBean = musicXMLNote.getMeasures().get(0);

            if (measuresBean.getParts().size() > 0) {
                if (measuresBean.getParts().get(0).getStaves().size() > 0) {
                    MusicXMLNote.MeasuresBean.PartsBean.StavesBean stavesBean = measuresBean.getParts().get(0).getStaves().get(0);
                    String keySigString = stavesBean.getKey();
                    noteIntDo = noteIntWithKey(keySigString);
                }
            }
        }

        int minNote = 128;
        int maxNote = 0;
        for (int i = 0; i < noteArray.size(); i++) {
            NoteBean noteBean = noteArray.get(i);
            minNote = Math.min(noteBean.note, minNote);
            maxNote = Math.max(noteBean.note, maxNote);
        }

        while (maxNote - noteIntDo - (noteIntDo - minNote) > 24) {
            noteIntDo += 12;
        }

        while (noteIntDo - minNote - maxNote + noteIntDo > 12) {
            noteIntDo -= 12;
        }

        alterMap.clear();
        measureIdx = 0;
        int curMeasureDur = 0;
        String musjeStr = "";
        MusicXMLNote.MeasuresBean measuresBean = musicXMLNote.getMeasures().get(measureIdx);
        MusicXMLNote.MeasuresBean.TimeBean timeBean = measuresBean.getTime();

        preTimeSigDenominator = timeBean.getBeat_value();
        preTimeSigNumerator = timeBean.getNum_beats();

        int durationPerMeasure = 1024 * preTimeSigNumerator / preTimeSigDenominator;

        NoteBean noteBean = noteArray.get(0);
        final long start = noteBean.start;
        long startDt = -128;
        musjeStr = musjeStr + String.valueOf(preTimeSigNumerator) + "/" + String.valueOf(preTimeSigDenominator) + "  ";

        for (int i = 0; i < noteArray.size(); i++) {
            NoteBean note = noteArray.get(i);
            startDt = note.start;
            String noteStr = noteMusjeStrWith(note.notesBean, durationPerMeasure - curMeasureDur);
            musjeStr = musjeStr + noteStr;
            curMeasureDur += note.duration;

            //满一个小节
            if (curMeasureDur >= durationPerMeasure) {
                curMeasureDur = 0;
                measureIdx++;
                musjeStr = musjeStr + "|";
                alterMap.clear();
                if (measureIdx < musicXMLNote.getMeasures().size()) {
                    measuresBean = musicXMLNote.getMeasures().get(measureIdx);
                    timeBean = measuresBean.getTime();
                }
                if (preTimeSigNumerator != timeBean.getNum_beats() || preTimeSigDenominator != timeBean.getBeat_value()) {
                    preTimeSigDenominator = timeBean.getBeat_value();
                    preTimeSigNumerator = timeBean.getNum_beats();
                    durationPerMeasure = 1024 * preTimeSigNumerator / preTimeSigDenominator;
                    musjeStr = musjeStr + String.valueOf(preTimeSigNumerator) + "/" + String.valueOf(preTimeSigDenominator) + "  ";
                }
            }
        }

        if (curMeasureDur > 0 && curMeasureDur < durationPerMeasure) {
            int leftDur = durationPerMeasure - curMeasureDur;
            while (leftDur >= 256) {
                musjeStr = musjeStr + "0";
                leftDur -= 256;
            }
            if (leftDur >= 128) {
                musjeStr = musjeStr + "0_";
                leftDur -= 128;
            }
            if (leftDur >= 64) {
                musjeStr = musjeStr + "0=";
                leftDur -= 64;
            }
            if (leftDur >= 32) {
                musjeStr = musjeStr + "0=_";
                leftDur -= 32;
            }
            musjeStr = musjeStr + "|]";
        } else {
            musjeStr = musjeStr + "]";
        }
        return musjeStr;
    }
}
